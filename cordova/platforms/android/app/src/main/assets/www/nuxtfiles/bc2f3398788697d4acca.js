(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1e3:function(t,e,o){"use strict";o.r(e);var n,r=o(4),c=(o(36),o(312)),l=o.n(c),d=o(301),v=(o(14),o(87),o(33)),m=o(25),f={name:"ImageInput",props:{value:Object},data:function(){return{imgSrc:"",avatar:null,saving:!1,loading:!1,saved:!1,errorText:"",uploadFieldName:"file",maxSize:1024,rules:[function(t){return!t||t.size<2e6||"O tamanho da foto deve ser menor que 9mb!"}]}},computed:{idUser:function(){return this.$store.state.user.data.id},user:function(){return this.$store.state.user.data}},watch:{avatar:{handler:function(){this.saved=!1},deep:!0}},mounted:function(){this.imgSrc=this.user.photo},methods:{savedAvatar:function(){this.saving=!1,this.saved=!0},launchFilePicker:function(){this.$refs.file.click()},onFileChange:function(t,e){var o=this,n=e[0];if(e.length>0){var r=n.size;if(n.type.match("image.*"))if(r>104e4)this.$notifier.showMessage({type:"error",message:"Escolha uma imagem menor que 1MB"});else{var c=URL.createObjectURL(n);this.imgSrc=c;var l=new FormData;l.append("file",n),this.loading=!0,v.a.post("api/v1/user/".concat(this.idUser,"/photo"),l,{headers:{Authorization:m.a.getToken(),"Content-Type":"multipart/form-data"}}).then((function(t){o.$notifier.showMessage({type:"success"}),v.a.get("api/v1/user/me",{headers:{Authorization:m.a.getToken()}}).then((function(t){o.$store.commit("user/SET_USER",{name:t.data.name||"AnÃ´nimo",type:{ADMIN:"Administrador",STUDENT:"Aluno"}[t.data.role.name]||"Visitante",id:t.data.id||"",role:t.data.role.name||"",photo:t.data.photo||""}),o.loading=!1}))})).catch((function(t){console.log(t),o.$notifier.showMessage({type:"error"}),o.loading=!1}))}else this.$notifier.showMessage({type:"error",message:"Selecione uma imagem"})}}}},h=(o(889),o(39)),_=o(43),x=o.n(_),y=o(342),k=o(289),w=o(129),C=o(418),T=o.n(C),$=o(138),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{on:{click:function(e){return t.launchFilePicker()}}},[o("div",[t.imgSrc?o("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mb-3",attrs:{size:"130px"}},[o("img",{attrs:{src:t.imgSrc,alt:"avatar"}})]):o("v-avatar",{attrs:{size:"130px",color:"primary"}},[o("v-icon",{attrs:{id:"account-icon"}},[t._v("mdi-camera")])],1),t._v(" "),o("p",{staticClass:"sub-purple mt-4 mb-10"},[t._v("Editar Foto")])],1)]),t._v(" "),o("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:t.uploadFieldName},on:{change:function(e){return t.onFileChange(e.target.name,e.target.files)}}}),t._v(" "),t.loading?o("div",[o("div",{staticClass:"container-spinner"},[o("v-progress-circular",{attrs:{size:70,width:5,indeterminate:"",color:"#6600cc"}})],1)]):t._e()])}),[],!1,null,"84d0ba78",null),S=component.exports;x()(component,{VAvatar:y.a,VIcon:k.a,VProgressCircular:w.a}),T()(component,{Ripple:$.a});var z={components:{HeaderBar:d.a,Avatar:l.a,AvatarUploader:S},filters:{simplifyName:function(t){if(!t)return"";return t.split(" ").length>2?/^(\S*\s+\S+).*/.exec(t)[1]:t}},data:function(){return{menu:[{name:"Minhas Info",icon:"mdi-information-outline",link:"0"},{name:"Quem Sou",icon:"mdi-account-outline",link:"1"},{name:"Minha Quebrada",icon:"mdi-domain",link:"2"},{name:"Estudos e Trampo",icon:"mdi-monitor",link:"3"}]}},computed:{user:function(){return this.$store.state.user.data}},methods:(n={goToChangePassword:function(){$nuxt._router.push("/aluno/alterar-senha")},goToShareUrl:function(){$nuxt._router.push("/aluno/indicar-app")},goToExit:function(){localStorage.clear(),$nuxt._router.push("/login"),this.clearInfoUser()}},Object(r.a)(n,"goToShareUrl",(function(){$nuxt._router.push("/aluno/indicar-app")})),Object(r.a)(n,"goToCertificates",(function(){$nuxt._router.push("/aluno/certificados")})),Object(r.a)(n,"goToCourses",(function(){$nuxt._router.push("/aluno/meus-cursos")})),Object(r.a)(n,"goToTab",(function(t){$nuxt._router.push("/aluno/cadastro-completo/".concat(t))})),n)},j=(o(891),o(321)),A=o(361),M=o(327),E=o(295),U=Object(h.a)(z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"page"}},[o("v-layout",{attrs:{column:""}},[o("HeaderBar",{staticClass:"mb-7",attrs:{title:"Perfil","back-page":!0}}),t._v(" "),o("v-col",{attrs:{align:"center"}},[o("avatar-uploader",{model:{value:t.avatar,callback:function(e){t.avatar=e},expression:"avatar"}})],1),t._v(" "),o("v-col",{attrs:{id:"menu"}},[o("v-divider"),t._v(" "),t._l(t.menu,(function(e){return o("div",{key:e.id},[o("v-row",{staticClass:"py-3",on:{click:function(o){return t.goToTab(e.link)}}},[o("v-icon",{staticClass:"px-6",attrs:{color:"primary"}},[t._v(t._s(e.icon))]),t._v(" "),o("div",{staticClass:"btn-name"},[t._v(t._s(e.name))])],1),t._v(" "),o("v-divider")],1)})),t._v(" "),o("v-row",{staticClass:"py-3",on:{click:t.goToCourses}},[o("v-icon",{staticClass:"px-6",attrs:{color:"primary"}},[t._v("mdi-view-compact-outline")]),t._v(" "),o("div",{staticClass:"btn-name"},[t._v("Meus Cursos")])],1),t._v(" "),o("v-divider"),t._v(" "),o("v-row",{staticClass:"py-3",on:{click:t.goToCertificates}},[o("v-icon",{staticClass:"px-6",attrs:{color:"primary"}},[t._v("mdi-school-outline")]),t._v(" "),o("div",{staticClass:"btn-name"},[t._v("Meus Certificados")])],1),t._v(" "),o("v-divider"),t._v(" "),o("v-row",{staticClass:"py-3",on:{click:t.goToChangePassword}},[o("v-icon",{staticClass:"px-6",attrs:{color:"primary"}},[t._v("mdi-key-outline")]),t._v(" "),o("div",{staticClass:"btn-name"},[t._v("Alterar Senha")])],1),t._v(" "),o("v-divider"),t._v(" "),o("v-row",{staticClass:"py-3",on:{click:t.goToShareUrl}},[o("v-icon",{staticClass:"px-6",attrs:{color:"primary"}},[t._v("mdi-share-outline")]),t._v(" "),o("div",{staticClass:"btn-name"},[t._v("Indicar App")])],1),t._v(" "),o("v-divider"),t._v(" "),o("v-row",{staticClass:"py-3",on:{click:t.goToExit}},[o("v-icon",{staticClass:"px-6",attrs:{color:"#C78282"}},[t._v("mdi-location-exit")]),t._v(" "),o("div",{staticClass:"btn-alert"},[t._v("SAIR")])],1),t._v(" "),o("v-divider")],2),t._v(" "),o("v-row",{attrs:{cols:"12"}},[o("v-icon")],1)],1)],1)}),[],!1,null,"10c56763",null);e.default=U.exports;x()(U,{VCol:j.a,VDivider:A.a,VIcon:k.a,VLayout:M.a,VRow:E.a})},297:function(t,e,o){var content=o(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("79745966",content,!0,{sourceMap:!1})},301:function(t,e,o){"use strict";var n={props:["title","backPage","route"],methods:{comeBackPage:function(){this.route?this.$router.push(this.route):this.$router.back()}}},r=(o(302),o(39)),c=o(43),l=o.n(c),d=o(290),v=o(289),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"head__bar"}},[e("v-btn",{staticClass:"btn-back",attrs:{text:"",icon:""},on:{click:this.comeBackPage}},[e("v-icon",[this._v("mdi-arrow-left")])],1),this._v(" "),e("h1",{staticClass:"h1__theme"},[this._v(this._s(this.title))])],1)}),[],!1,null,"7719e329",null);e.a=component.exports;l()(component,{VBtn:d.a,VIcon:v.a})},302:function(t,e,o){"use strict";var n=o(297);o.n(n).a},303:function(t,e,o){(e=o(28)(!1)).push([t.i,"*[data-v-7719e329]{font-family:Roboto,sans-serif}.h1__theme[data-v-7719e329]{font-size:1rem;line-height:1.2;font-weight:900;text-align:center;padding:0 2.5rem!important}#head__bar[data-v-7719e329]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;padding:1.5rem 0;position:relative;-webkit-box-align:center;align-items:center;background:transparent}[data-v-7719e329] .btn-back .theme--light.v-icon{color:var(--primary);font-size:35px}[data-v-7719e329] .btn-back{position:absolute;left:1rem}",""]),t.exports=e},655:function(t,e,o){var content=o(890);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("1ff12d5e",content,!0,{sourceMap:!1})},656:function(t,e,o){var content=o(892);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("461cd4dd",content,!0,{sourceMap:!1})},889:function(t,e,o){"use strict";var n=o(655);o.n(n).a},890:function(t,e,o){(e=o(28)(!1)).push([t.i,"#account-icon[data-v-84d0ba78]{font-size:80px;color:hsla(0,0%,100%,.60392)}.sub-purple[data-v-84d0ba78]{font-family:Roboto;font-size:16px;font-weight:700;line-height:19px;color:var(--primary)}img[data-v-84d0ba78]{-o-object-fit:cover;object-fit:cover}",""]),t.exports=e},891:function(t,e,o){"use strict";var n=o(656);o.n(n).a},892:function(t,e,o){(e=o(28)(!1)).push([t.i,"*[data-v-10c56763]{letter-spacing:0}.layout[data-v-10c56763]{padding-bottom:100px}.col[data-v-10c56763],.row[data-v-10c56763]{padding:0;height:100%;width:100%}.row[data-v-10c56763]{margin:0}.btn-name[data-v-10c56763]{font-family:Roboto;text-transform:uppercase;font-size:16px;color:#737373}.btn-alert[data-v-10c56763]{color:#c78282}.sub-purple[data-v-10c56763]{font-family:Roboto;font-size:16px;font-weight:700;line-height:19px;color:var(--primary)}.padding__card[data-v-10c56763]{padding-top:0}@media (min-width:992px){#page[data-v-10c56763]{-webkit-box-pack:center;justify-content:center}#menu[data-v-10c56763],#page[data-v-10c56763]{display:-webkit-box;display:flex}#menu[data-v-10c56763]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.layout[data-v-10c56763]{max-width:700px;padding:20px 24px 50px}}",""]),t.exports=e}}]);